<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="theme-color" content="#191919">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ecommerce Customer Churn Prediction</title>
  <link rel="icon" type="image/png" href="https://img.icons8.com/?size=1x&id=xCsEqrn8ccAf&format=png">
  <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Hind:300' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
  <style id="theme-style">
    body {
      margin-top: 0px;
      background-color: white;
      color: black;
      font-family: roboto, helvetica, sans-serif;
    }

    body.dark-mode {
      background-color: black;
      color: #ff9933;
    }

    .result {
      margin: auto;
      max-width: 75%;
    }

    #banner {
      width: 100%;
      max-height: 360px;
      object-fit: cover;
    }
  </style>

  <script>
    // Function to toggle between light and dark themes
    function toggleTheme() {
      const body = document.body;
      body.classList.toggle('dark-mode');
    }

    // Function to load the selected theme from user preference
    function loadThemePreference() {
      const darkThemeSelected =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches;

      if (darkThemeSelected) {
        document.body.classList.add('dark-mode');
      }
    }

    // Load the selected theme when the page is ready
    document.addEventListener('DOMContentLoaded', loadThemePreference);
  </script>
</head>

<body>

  <div class="container">
    <div class="row">
      <div class="col-md-12 text-right">
        <button type="button" class="btn btn-primary" onclick="toggleTheme()">
          <b>Dark Theme</b>
        </button>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <h1 class="text-center">Ecommerce Customer Churn Prediction</h1>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <img id="banner"
          src="https://th.bing.com/th/id/R.eaba7d9ac8f99580622272c052623f89?rik=Dbz46zbxy69qAg&riu=http%3a%2f%2fwww.sanctuaryrecordsgroup.com%2fwp-content%2fuploads%2f2017%2f05%2fbanner-eCommerce-Solutions.jpg&ehk=y2XBxLZ%2bFpZpRD2GdYa0moBWlpX6KnjFgcY1GcR1PoI%3d&risl=&pid=ImgRaw&r=0"
          alt="Banner Image">
      </div>
    </div>

    <!-- Main Input For Receiving Query to our ML -->
    <form action="/predict" method="post" class="mt-3">
      <div class="row">
        <div class="col-md-6">
          <fieldset>
            <legend><b></b></legend>
            <p><b>Tenure :</b><br>
              <input type="number" name="tenure" placeholder="tenure with the organization" required="required" /></p>

            <label for="citytier">City Tier:</label>
            <select name="citytier" id="citytier" required>
              <option value="1">Tier 1</option>
              <option value="2">Tier 2</option>
              <option value="3">Tier 3</option>
            </select>

            <p><b>Distance to the warehouse from the residence :</b><br>
            <input type="number" name="warehousetohome" placeholder="distance in km" required="required" /></p>


          <b>Gender of the customer :</b><br>
          <div style="float:left; margin-right: 1.5em;">
            <input type="radio" id="male" name="gender" value="Male" required="required" />
            <label for="male">Male</label>
          </div>
          <div style="float:left; margin-right: 1.5em;">
            <input type="radio" id="female" name="gender" value="Female" required="required" />
            <label for="female">Female</label>
          </div>
          <br>


          <p><b>Marital Status :</b><br>
            <select name="maritalstatus" id="maritalstatus" required>
              <option value="Single">Single</option>
              <option value="Married">Married</option>
              <option value="Divorced">Divorced</option>
            </select></p>


          <b>Any complaints in the last month :</b><br>
          <div style="float:left; margin-right: 1.5em;">
            <input type="radio" id="yes" name="complain" value="1" required="required" />
            <label for="Yes">Yes</label>
          </div>
          <div style="float:left; margin-right: 1.5em;">
            <input type="radio" id="no" name="complain" value="0" required="required" />
            <label for="No">No</label>
          </div>
          <br>


          <p><b>Number of coupons used in the last month :</b><br>
            <input type="number" name="couponused" placeholder="coupons used" required="required" /></p>


          <p><b>Number of orders made in the last month :</b><br>
            <input type="number" name="ordercount" placeholder="orders made" required="required" /></p>

          <p><b>Cashback Amount :</b><br>
            <input type="number" name="cashbackamount" placeholder="Cashback Amount" required="required" /></p>


          </fieldset>
        </div>

        <div class="col-md-6">
          <fieldset>
            <legend><b></b></legend>
            <p><b>Number of days since last order placed :</b><br>
              <input type="number" name="lastorder" placeholder="last order" required="required" /></p>

           <label for="logindevice">Preferred login device:</label>
          <select name="logindevice" id="logindevice" required>
            <option value="Mobile">Mobile Phone</option>
            <option value="Computer">Computer</option>
          </select>

          <p><b>Number of devices registered with the app :</b><br>
            <input type="number" name="numdevices" placeholder="registered devices" required="required" /></p>


          <p><b>Preferred Payment Mode: </b><br>
            <select name="paymentmode" id="paymentmode" required>
              <option value="DC">Debit Card</option>
              <option value="CC">Credit Card</option>
              <option value="UPI">UPI</option>
              <option value="COD">Cash On Delivery</option>
              <option value="E wallet">E-wallet</option>
            </select></p>


          <p><b>Preferred Order Category: </b><br>
            <select name="ordercat" id="ordercat" required>
              <option value="Laptop">Laptop</option>
              <option value="Mobile">Mobile</option>
              <option value="Fashion">Fashion</option>
              <option value="Grocery">Grocery</option>
              <option value="Others">Others</option>
            </select></p>


          <p><b>Approx. number of hours customer spends on app :</b><br>
            <input type="number" name="hourspend" placeholder="hours spent" required="required" /></p>


          <p><b>Satisfaction score : </b><br>
            <select name="satisfactionscore" id="satisfactionscore" required>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select></p>


          <p><b>Number of addresses registered with the app :</b><br>
            <input type="number" name="numaddress" placeholder="registered address" required="required" /></p>


          <p><b>Percentage increases in order from last year :</b><br>
            <input type="number" name="orderhike" placeholder="order hike" required="required" /></p>


          </fieldset>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-12 text-center">
          <button type="submit" class="btn btn-primary"><b>SUBMIT</b></button>
        </div>
      </div>
    </form>

    <div class="row mt-3">
      <div class="col-md-12">
        <div class="result" align="center">
          <h2>
            <p style="padding: 0.3%; color:red;"><b>CUSTOMER WILL CHURN OUT!&#128512;</b></p>
          </h2>
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.min.js"></script>
</body>

</html>
